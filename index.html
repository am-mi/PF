<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>senhinketsu portfolio</title>
  <link rel="icon" type="image/png" href="./img/logo.png" sizes="64x64">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
</head>

<body class="relative bg-cover bg-center bg-no-repeat bg-contain min-h-screen"
  style="background-image: url('./img/home.png')">
  <header class="fixed inset-x-0 top-0 z-50 pt-4 px-10">
    <div
      class="flex h-[60px] items-center px-10 md:px-0 md:py-0 md:py-[20px] md:pl-[80px] md:pr-11 lg:pl-[120px] bg-gray-100 bg-opacity-50 backdrop-blur-md rounded-3xl">
      <h1 class="flex flex-1 items-center">
        <a href="./index.html" aria-label="Home" class="inline-block">
          <img src="./img/logo.png" alt="Logo" class="max-w-[70px] h-auto">
        </a>
      </h1>

      <button id="menu-toggle" class="relative z-50 flex h-10 w-10 flex-col items-center justify-center md:hidden">
        <span class="hamburger-line absolute h-0.5 w-9 bg-black transition-transform duration-300 translate-y-3"></span>
        <span class="hamburger-line absolute h-0.5 w-9 bg-black transition-transform duration-300"></span>
        <span
          class="hamburger-line absolute h-0.5 w-9 bg-black transition-transform duration-300 -translate-y-3"></span>
      </button>

      <div class="hidden justify-center md:flex md:flex-1 md:justify-end relative">
        <ul class="flex space-x-2 md:space-x-4">
          <li class="relative">
            <a href="./graphic.html" id="dropdown-button"
              class="flex items-center space-x-2 whitespace-nowrap px-2 py-1 text-xs font-bold leading-none text-amber-900 hover:text-sky-600 md:text-[14px]">
              WORKS
              <svg id="dropdown-icon" class="w-4 h-4 transition-transform" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </a>

            <ul id="dropdown-menu" class="absolute left-0 mt-2 w-40 bg-white shadow-lg rounded-lg hidden">
              <li><a href="./web.html" class="block px-4 py-2 hover:bg-gray-200">web design</a></li>
              <li><a href="./graphic1.html" class="block px-4 py-2 hover:bg-gray-200">graphic</a></li>
              <li><a href="./photo.html" class="block px-4 py-2 hover:bg-gray-200">other</a></li>
            </ul>
          </li>

          <li><a
              class="whitespace-nowrap px-2 py-1 text-xs font-bold leading-none text-amber-900 hover:text-sky-600 md:text-[14px]"
              href="./about.html">ABOUT</a></li>
          <li><a
              class="whitespace-nowrap px-2 py-1 text-xs font-bold leading-none text-amber-900 hover:text-sky-600 md:text-[14px]"
              href="./contact.html">CONTACT</a></li>
        </ul>
      </div>

      <script>
        document.getElementById("dropdown-button").addEventListener("click", function (event) {
          event.preventDefault();
          var menu = document.getElementById("dropdown-menu");
          var icon = document.getElementById("dropdown-icon");

          menu.classList.toggle("hidden");
          icon.classList.toggle("rotate-180");
        });

        document.addEventListener("click", function (event) {
          var menu = document.getElementById("dropdown-menu");
          var button = document.getElementById("dropdown-button");

          if (!button.contains(event.target) && !menu.contains(event.target)) {
            menu.classList.add("hidden");
            document.getElementById("dropdown-icon").classList.remove("rotate-180");
          }
        });

        document.addEventListener("DOMContentLoaded", function () {
          const mobileDropdownButton = document.getElementById("mobile-dropdown-button");
          const mobileDropdownMenu = document.getElementById("mobile-dropdown-menu");
          const mobileDropdownIcon = document.getElementById("mobile-dropdown-icon");

          mobileDropdownButton.addEventListener("click", function (event) {
            event.preventDefault();
            mobileDropdownMenu.classList.toggle("hidden");
            mobileDropdownIcon.classList.toggle("rotate-180");
          });
        });

      </script>

  </header>
  <div id="menu-overlay" class="fixed inset-0 z-40 bg-black bg-opacity-30 hidden transition-opacity duration-300"></div>
  <div id="mobile-menu"
    class="fixed right-[-100%] top-0 z-40 h-full w-2/3 max-w-[300px] pr-10 bg-amber-900 bg-opacity-70 text-white transition-transform duration-300 md:hidden flex flex-col items-center justify-center">
    <ul class="flex flex-col items-center space-y-6 pt-20">
      <li class="relative w-full text-center">
        <button id="mobile-dropdown-button"
          class="w-full flex items-center justify-center space-x-2 text-lg text-white hover:text-sky-500">
          WORKS
          <svg id="mobile-dropdown-icon" class="w-4 h-4 transition-transform" xmlns="http://www.w3.org/2000/svg"
            fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
          </svg>
        </button>
        <ul id="mobile-dropdown-menu" class="hidden flex flex-col items-center space-y-2 mt-2">
          <li><a href="./web.html" class="block px-4 py-2 hover:text-sky-300">WEB DESIGN</a></li>
          <li><a href="./graphic1.html" class="block px-4 py-2 hover:text-sky-300">GRAPHIC</a></li>
          <li><a href="./photo.html" class="block px-4 py-2 hover:text-sky-300">OTHER</a></li>
        </ul>
      </li>
      <li><a class="text-white text-lg hover:text-sky-500" href="./about.html">ABOUT</a></li>
      <li><a class="text-white text-lg hover:text-sky-500" href="./contact.html">CONTACT</a></li>
    </ul>
  </div>


  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const menuToggle = document.getElementById("menu-toggle");
      const mobileMenu = document.getElementById("mobile-menu");
      const menuOverlay = document.getElementById("menu-overlay");

      menuToggle.addEventListener("click", function () {
        const isOpen = mobileMenu.style.right === "0px";
        if (isOpen) {
          closeMenu();
        } else {
          openMenu();
        }
      });

      menuOverlay.addEventListener("click", closeMenu);

      function openMenu() {
        mobileMenu.style.right = "0px";
        menuOverlay.classList.remove("hidden");
        menuOverlay.classList.add("opacity-100");
        menuToggle.classList.add("open");
      }

      function closeMenu() {
        mobileMenu.style.right = "-100%";
        menuOverlay.classList.add("hidden");
        menuOverlay.classList.remove("opacity-100");
        menuToggle.classList.remove("open");
      }
    });

  </script>

  <style>
    .hamburger-line {
      transition: transform 0.3s ease, opacity 0.3s ease;
    }

    #menu-toggle.open .hamburger-line:nth-child(1) {
      transform: translateY(0) rotate(45deg);
    }

    #menu-toggle.open .hamburger-line:nth-child(2) {
      opacity: 0;
    }

    #menu-toggle.open .hamburger-line:nth-child(3) {
      transform: translateY(0) rotate(-45deg);
    }

    canvas {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
    }
  </style>
  <script>
    const { Engine, Render, Runner, World, Bodies, Mouse, MouseConstraint } = Matter;

    const engine = Engine.create();
    const world = engine.world;
    let width = window.innerWidth;
    let height = window.innerHeight;

    const baseSize = Math.min(width, height) * 0.1;

    const render = Render.create({
      element: document.body,
      engine: engine,
      options: {
        width,
        height,
        wireframes: false,
        background: 'transparent'
      }
    });

    const boundaries = [
      Bodies.rectangle(width / 2, height, width, 100, {
        isStatic: true,
        render: {
          visible: false
        }
      }),
      Bodies.rectangle(-50, height / 2, 100, height, { isStatic: true }),
      Bodies.rectangle(width + 50, height / 2, 100, height, { isStatic: true })
    ];
    World.add(world, boundaries);

    const imageSources = [
      "./img/p.png",
      "./img/w.png",
      "./img/logo-ye.png",
      "./img/g.png",
      "./img/i.png"

    ];
    const images = [];

    let loadedImages = 0;
    function preloadImages(callback) {
      imageSources.forEach(src => {
        const img = new Image();
        img.src = src;
        img.onload = () => {
          loadedImages++;
          if (loadedImages === imageSources.length) {
            callback();
          }
        };
      });
    }

    function dropImagesSequentially(index = 0) {
      if (index >= imageSources.length) return;

      let box = Bodies.rectangle(
        Math.random() * width * 0.8 + width * 0.1,
        -baseSize,
        baseSize, baseSize,
        {
          restitution: 0.5,
          friction: 0.5,
          density: 0.001,
          render: {
            sprite: {
              texture: imageSources[index],
              xScale: baseSize / 250,
              yScale: baseSize / 250
            }
          }
        }
      );

      Matter.Body.setPosition(box, { x: box.position.x, y: box.position.y - baseSize / 2 });

      images.push(box);
      World.add(world, box);

      setTimeout(() => dropImagesSequentially(index + 1), 500);
    }

    function initPhysics() {
      dropImagesSequentially();

      Render.run(render);
      Runner.run(Runner.create(), engine);
    }

    preloadImages(initPhysics);

    const mouse = Mouse.create(render.canvas);
    const mouseConstraint = MouseConstraint.create(engine, {
      mouse,
      constraint: { stiffness: 0.2, render: { visible: false } }
    });
    World.add(world, mouseConstraint);

    window.addEventListener('resize', () => {
      width = window.innerWidth;
      height = window.innerHeight;
      render.canvas.width = width;
      render.canvas.height = height;
    });

    let lastClickTime = 0;
    const clickDelay = 300;

    const imageLinks = {
      "./img/p.png": "/photo.html",
      "./img/w.png": "/web.html",
      "./img/i.png": "/Illustrator.html",
      "./img/g.png": "/graphic1.html",
      "./img/logo-ye.png": "/index.html"
    };

    Matter.Events.on(mouseConstraint, "mousedown", (event) => {
      const currentTime = new Date().getTime();
      const timeDiff = currentTime - lastClickTime;
      lastClickTime = currentTime;

      if (timeDiff < clickDelay) {
        const mousePosition = event.mouse.position;

        images.forEach((box) => {
          if (Matter.Bounds.contains(box.bounds, mousePosition)) {
            const texture = box.render.sprite.texture;
            if (imageLinks[texture]) {
              window.location.href = imageLinks[texture];
            }
          }
        });
      }
    });


  </script>
</body>

</html>